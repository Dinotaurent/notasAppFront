---
import DeleteNotaBoton from "@components/notas/DeleteNotaBoton";
import RegresarBoton from "@components/shared/RegresarBoton.astro";
import Layout from "@layouts/Layout.astro";
import { actions } from "astro:actions";

export const prerender = false;

const notaId = Astro.params.id;

const { data } = await Astro.callAction(actions.getNotaById, notaId ?? "");
// console.log(data);
// console.log(notaId);
---

<Layout>
    <div class="flex flex-col justify-start">
        <RegresarBoton url="/notas/pagina/1" />
    </div>
    <div class="flex flex-auto items-center">
        <!-- <button
            data-id={notaId}
            id="btnDelete"
            type="button"
            class="btn-delete bg-linear-to-r from-red-400 via-red-500 to-red-600 hover:bg-linear-to-br focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg px-5 py-2.5 me-2 mb-2"
            ><svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 448 512"
                class="icono-fa"
            >
                <path
                    d="M136.7 5.9C141.1-7.2 153.3-16 167.1-16l113.9 0c13.8 0 26 8.8 30.4 21.9L320 32 416 32c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 8.7-26.1zM32 144l384 0 0 304c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-304zm88 64c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24zm104 0c-13.3 0-24 10.7-24 24l0 192c0 13.3 10.7 24 24 24s24-10.7 24-24l0-192c0-13.3-10.7-24-24-24z"
                ></path></svg
            ></button
        > -->
        <DeleteNotaBoton noteId={notaId} client:load />
        <button
            data-id={notaId}
            id="btnDelete"
            type="button"
            class="btn-update bg-linear-to-r from-yellow-400 via-orange-500 to-yellow-600 hover:bg-linear-to-br focus:ring-4 focus:outline-none focus:ring-yellow-300 dark:focus:ring-yellow-800 font-medium rounded-lg px-5 py-2.5 me-2 mb-2"
            ><svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 512 512"
                class="icono-fa"
                ><!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
                <path
                    d="M32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 224zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384z"
                ></path></svg
            ></button
        >
    </div>

    <div
        class="flex flex-col items-center justify-start min-h-[80vh] pt-24 p-6 lg:p-12"
    >
        <div
            class="w-full max-w-2xl // Más ancho para mejor lectura
            p-8 md:p-10 lg:p-12 // Mucho más padding
            bg-[#241B1B] // Fondo muy oscuro (más que la lista)
            border border-[#95E329] // Borde verde neón
            rounded-xl shadow-2xl // Bordes redondeados y sombra fuerte
            shadow-lime-500/20 // Sombra con color del acento
            transition-all duration-300"
        >
            <h2
                class="mb-4 text-4xl lg:text-5xl // Título mucho más grande
                font-extrabold tracking-tight // Negrita extra
                text-[#95E329] // Título en color neón"
            >
                {data.titulo}
            </h2>

            <div class="h-px bg-gray-700 w-full mb-6"></div>

            <p
                class="font-light text-xl md:text-2xl // Contenido más grande y legible
            text-gray-300 // Texto en gris claro
            whitespace-pre-wrap // Mantiene saltos de línea y espacios (si los hay)"
            >
                {data.contenido}
            </p>
        </div>
    </div>
</Layout>

<style>
    .icono-fa {
        width: 26px; /* O 2rem, o el tamaño que prefieras */
        height: 26px;
    }
</style>
